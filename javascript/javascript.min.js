function get_cookies_array(){"use strict";var e={};if(document.cookie&&""!==document.cookie)for(var t=document.cookie.split(";"),o=0;o<t.length;o++){var a=t[o].split("=");a[0]=a[0].replace(/^ /,""),e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}function setCookie(e,t,o){"use strict";var a=new Date;a.setTime(a.getTime()+24*o*60*60*1e3);var n="expires="+a.toGMTString();document.cookie=e+"="+t+";"+n+";path=/"}function getCookie(e){"use strict";for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),a=0;a<o.length;a++){for(var n=o[a];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return""}function checkCookie(e){getCookie(e);1===user&&alert("Welcome again "+user)}function hasScrolled(){"use strict";var e,t=$(document).scrollTop(),o=document.getElementsByClassName("dropdown-content");for(e=0;e<o.length;e++){var a=o[e];a.classList.contains("show")&&a.classList.remove("show")}Math.abs(lastScrollTop-t)<=delta||(t>lastScrollTop&&t>navbarHeight?$("header").removeClass("nav-down").addClass("nav-up"):t+$(window).height()<$(document).height()&&$("header").removeClass("nav-up").addClass("nav-down"),lastScrollTop=t)}function myFunction(){"use strict";var e=document.getElementById("menusite");"menu"===e.className?e.className+=" responsive":e.className="menu"}function GoogleSignIn(){"use strict";if(firebase.auth().currentUser)firebase.auth().signOut();else{var e=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithRedirect(e)}}function toggleSignIn(){"use strict";if(firebase.auth().currentUser)firebase.auth().signOut();else{var e=document.getElementById("email").value,t=e.indexOf("@"),o=e.lastIndexOf("."),a=document.getElementById("password").value,n="";navigator.language||navigator.userLanguage;if(0===e.length)return n="Por favor introduza um e-mail.",void showsnackbar(n);if(t<1||o<t+2||o+2>=e.length)return n="Por favor introduza um indereço de e-mail válido.",void showsnackbar(n);if(a.length<4)return n="Por favor introduza uma palavra-passe.",void showsnackbar(n);firebase.auth().signInWithEmailAndPassword(e,a).catch(function(e){var t=e.code,o=e.message;return"auth/wrong-password"===t?(n="Palavra-passe incorreta.",void showsnackbar(n)):"auth/user-not-found"===t?(n="Utilizador não existe.",void showsnackbar(n)):void console.log(o)}),firebase.auth().onAuthStateChanged(function(e){if(e){var t=get_cookies_array();for(var o in t)t.hasOwnProperty(o)&&o.includes("heart")&&setCookie(o,0,30);var a=e.uid;firebase.database().ref("users/"+a+"/likes/").on("child_added",function(e){var t=e.key;try{var o=new Date;o.setTime(o.getTime()+2592e6);var a="expires="+o.toGMTString();document.cookie=t+"=1;"+a+";path=/",window.location.replace("http://localhost/luxvilla-web"),window.location.assign("http://localhost/luxvilla-web"),window.location.href="http://localhost/luxvilla-web"}catch(e){alert(e.message)}})}})}}function editprofile(){"use strict";var e=document.getElementById("username").value,t=document.getElementById("nbio").value;firebase.auth().onAuthStateChanged(function(o){o?(e&&""===t&&o.updateProfile({displayName:e}).then(function(){showsnackbar("Perfil editado."),window.location.replace("http://localhost/luxvilla-web/profile/"),window.location.assign("http://localhost/luxvilla-web/profile/"),window.location.href="http://localhost/luxvilla-web/profile/"},function(e){console.log(e.message)}),t&&""===e&&firebase.database().ref("users/"+o.uid+"/user_bio").set(t).then(function(){showsnackbar("Perfil editado."),window.location.replace("http://localhost/luxvilla-web/profile/"),window.location.assign("http://localhost/luxvilla-web/profile/"),window.location.href="http://localhost/luxvilla-web/profile/"},function(e){console.log(e.message)})):showsnackbar("Para editar precisa de fazer login.")})}function checkusername(){"use strict";var e=document.getElementById("username").value;firebase.database().ref().child("users").orderByChild("user_name").equalTo(e).once("value",function(e){e.val()&&(showsnackbar("Nome de utilizador já existe."),document.getElementById("username").focus())})}function userprofile(){"use strict";var e=document.getElementById("username"),t=document.getElementById("userbio"),o=document.getElementById("profileimage");firebase.auth().onAuthStateChanged(function(a){a?(a.providerData.forEach(function(n){e.innerHTML="@"+n.displayName,document.title=n.displayName+" - Perfil",firebase.database().ref("/users/"+a.uid).once("value").then(function(e){var o=e.val().user_bio;t.innerHTML=o}),null!==n.photoURL&&(o.src=n.photoURL)}),$("#preloader").hide(),$("#profilename").show(),$("#preloaderinfo").hide(),$("#conteudo").show()):($("#preloader").hide(),$("#profilename").show(),$("#preloaderinfo").hide(),$("#conteudo").show())})}function showsnackbar(e){"use strict";var t=document.getElementById("snackbar");t.innerHTML=e,t.className="show",setTimeout(function(){t.className=t.className.replace("show","")},3e3)}function usersignedin(){"use strict";$("#signinlink").hide(),$("#signuplink").hide(),$("#profilelink").show(),$("#signoutlink").show()}function usernotsignedin(){"use strict";$("#profilelink").hide(),$("#signoutlink").hide(),$("#signinlink").show(),$("#signuplink").show()}function signup(){"use strict";var e="",t=document.getElementById("username").value,o=document.getElementById("email").value,a=o.indexOf("@"),n=o.lastIndexOf("."),i=document.getElementById("password").value,s=document.getElementById("rppassword").value;return 0===t.length?(e="Por favor introduza um nome de utilizador.",void showsnackbar(e)):0===o.length?(e="Por favor introduza um indereço de e-mail.",void showsnackbar(e)):a<1||n<a+2||n+2>=o.length?(e="Por favor introduza um indereço de e-mail válido.",void showsnackbar(e)):i.length<4?(e="Por favor introduza uma palavra-passe.",void showsnackbar(e)):i!==s?(e="Por favor confirme a palavra-passe.",void showsnackbar(e)):void firebase.auth().createUserWithEmailAndPassword(o,i).then(function(e){e.updateProfile({displayName:newusername}).then(function(){},function(e){console.log(e.message)}),window.location.replace("http://localhost/luxvilla-web"),window.location.assign("http://localhost/luxvilla-web"),window.location.href="http://localhost/luxvilla-web"}).catch(function(e){var t=e.code,o=e.message;"auth/weak-password"===t?(alert("The password is too weak."),console.log(e)):showsnackbar(o)})}function signout(){"use strict";navigator.language||navigator.userLanguage;var e="";firebase.auth().signOut().then(function(){var t=get_cookies_array();for(var o in t)t.hasOwnProperty(o)&&o.includes("heart")&&setCookie(o,0,30);usernotsignedin(),showsnackbar(e="Sessão terminada com sucesso."),window.location.replace("http://localhost/luxvilla-web"),window.location.assign("http://localhost/luxvilla-web"),window.location.href="http://localhost/luxvilla-web"},function(t){showsnackbar(e="Ocorreu um erro enquanto terminava sessão.")})}function initApp(){"use strict";firebase.auth().onAuthStateChanged(function(e){e?usersignedin():usernotsignedin()});var e=document.getElementById("signin"),t=document.getElementById("signup"),o=document.getElementById("edit");null!==e&&e.addEventListener("click",toggleSignIn,!1),null!==t&&t.addEventListener("click",signup,!1),null!==o&&o.addEventListener("click",editprofile,!1)}$(document).ready(function(){"use strict";var e={apiKey:"API_KEY",authDomain:"AUTH_DPMAIN",databaseURL:"DATABASE_URL",projectId:"PROJECT_ID",storageBucket:"STORAGE_BUCKET",messagingSenderId:"MESSAGING_SENDER_ID"};firebase.initializeApp(e),$(".heart").on("click touchstart",function(){var e=$(this).attr("id"),t=$(this);firebase.auth().onAuthStateChanged(function(o){if(o){var a=o.uid,n=firebase.database();t.hasClass("liked")?(n.ref("users/"+a+"/likes/"+e).remove(),setCookie(e,0,30),t.removeClass("liked")):(n.ref("users/"+a+"/likes/"+e).set({liked:"true"}),t.toggleClass("is_animating"),setCookie(e,1,30),t.addClass("liked"))}else t.hasClass("liked")?(setCookie(e,0,30),t.removeClass("liked")):(t.toggleClass("is_animating"),setCookie(e,1,30),t.addClass("liked"))})}),$(".heart").on("animationend",function(){$(this).toggleClass("is_animating")})}),$(document).ready(function(){"use strict";var e=document.getElementById("menusite"),t=document.getElementById("menusitesobrenos");$("#float").addClass("float-hidden"),$(function(){$(window).scroll(function(){$(this).scrollTop()>500?$("#float").removeClass("float-hidden").addClass("shown"):$("#float").removeClass("shown").addClass("float-hidden"),$(this).scrollTop()>0?null!==e?e.style.boxShadow="0px 3px 6px rgba(50,50,50,0.28)":null!==t&&(t.style.boxShadow="0px 3px 6px rgba(50,50,50,0.28)"):null!==e?e.style.boxShadow="0px 0px 0px grey":null!==t&&(t.style.boxShadow="0px 0px 0px grey")})}),$("#arrowleft").hover(function(){$("#ileft").addClass("hover")},function(){$("#ileft").removeClass("hover")}),$("#arrowright").hover(function(){$("#iright").addClass("hover")},function(){$("#iright").removeClass("hover")})}),$(document).ready(function(){"use strict";$('a[href^="#"]').on("click",function(e){e.preventDefault(),$(document).off("scroll"),$("a").each(function(){});var t=this.hash,o=$(t);$("html, body").stop().animate({scrollTop:o.offset().top},800,"swing",function(){window.location.hash=t})})});var didScroll,lastScrollTop=0,delta=5,navbarHeight=$("header").outerHeight();$(window).scroll(function(e){"use strict";didScroll=!0}),setInterval(function(){"use strict";didScroll&&(hasScrolled(),didScroll=!1)},250),window.onload=function(){"use strict";initApp()},$(function(){"use strict";var e=$(".swipe-tabs"),t=$(".swipe-tab"),o=$(".swipe-tabs-container"),a=0;e.on("init",function(n,i){o.removeClass("invisible"),e.removeClass("invisible"),a=i.getCurrent(),t.removeClass("active-tab"),$(".swipe-tab[data-slick-index="+a+"]").addClass("active-tab")}),e.slick({slidesToShow:2,slidesToScroll:1,arrows:!1,infinite:!1,swipeToSlide:!0,touchThreshold:10}),o.slick({asNavFor:e,slidesToShow:1,slidesToScroll:1,arrows:!1,infinite:!1,swipeToSlide:!0,draggable:!1,touchThreshold:10}),t.on("click",function(n){a=$(this).data("slick-index"),t.removeClass("active-tab"),$(".swipe-tab[data-slick-index="+a+"]").addClass("active-tab"),e.slick("slickGoTo",a),o.slick("slickGoTo",a)}),o.on("swipe",function(e,o,n){a=$(this).slick("slickCurrentSlide"),t.removeClass("active-tab"),$(".swipe-tab[data-slick-index="+a+"]").addClass("active-tab")})}),$(document).click(function(e){"use strict";if($(e.target).closest("#usersignin").length)document.getElementById("myDropdown").classList.toggle("show");else{var t,o=document.getElementsByClassName("dropdown-content");for(t=0;t<o.length;t++){var a=o[t];a.classList.contains("show")&&a.classList.remove("show")}}}),$(document).ready(function(e){"use strict";!function(){var e,t=document.querySelectorAll(".wave");for(e=0;e<t.length;e++)t[e].onmousedown=function(e){var t,o,a=document.createElement("div");a.className="cercle",this.appendChild(a),t=e.pageX-this.offsetLeft,o=e.pageY-this.offsetTop,a.style.left=t+"px",a.style.top=o+"px",a.className+=" anim",setTimeout(function(){a.remove()},1500)}}()});