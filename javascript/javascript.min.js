function get_cookies_array(){"use strict";var e={};if(document.cookie&&""!==document.cookie)for(var t=document.cookie.split(";"),a=0;a<t.length;a++){var o=t[a].split("=");o[0]=o[0].replace(/^ /,""),e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}function setCookie(e,t,a){"use strict";var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3);var s="expires="+o.toGMTString();document.cookie=e+"="+t+";"+s+";path=/"}function getCookie(e){"use strict";for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),o=0;o<a.length;o++){for(var s=a[o];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""}function checkCookie(e){getCookie(e);1===user&&alert("Welcome again "+user)}function hasScrolled(){"use strict";var e,t=$(document).scrollTop(),a=document.getElementsByClassName("dropdown-content");for(e=0;e<a.length;e++){var o=a[e];o.classList.contains("show")&&o.classList.remove("show")}Math.abs(lastScrollTop-t)<=delta||(t>lastScrollTop&&t>navbarHeight?$("header").removeClass("nav-down").addClass("nav-up"):t+$(window).height()<$(document).height()&&$("header").removeClass("nav-up").addClass("nav-down"),lastScrollTop=t)}function myFunction(){"use strict";var e=document.getElementById("menusite");"menu"===e.className?e.className+=" responsive":e.className="menu"}function toggleSignIn(){"use strict";if(firebase.auth().currentUser)firebase.auth().signOut();else{var e=document.getElementById("email").value,t=e.indexOf("@"),a=e.lastIndexOf("."),o=document.getElementById("password").value,s="";navigator.language||navigator.userLanguage;if(0===e.length)return s="Por favor introduza um e-mail.",void showsnackbar(s);if(t<1||a<t+2||a+2>=e.length)return s="Por favor introduza um indereço de e-mail válido.",void showsnackbar(s);if(o.length<4)return s="Por favor introduza uma palavra-passe.",void showsnackbar(s);firebase.auth().signInWithEmailAndPassword(e,o).catch(function(e){var t=e.code,a=e.message;return"auth/wrong-password"===t?(s="Palavra-passe incorreta.",void showsnackbar(s)):"auth/user-not-found"===t?(s="Utilizador não existe.",void showsnackbar(s)):void console.log(a)}),firebase.auth().onAuthStateChanged(function(e){if(e){var t=get_cookies_array();for(var a in t)t.hasOwnProperty(a)&&a.includes("heart")&&setCookie(a,0,30);var o=e.uid;firebase.database().ref("users/"+o+"/likes/").on("child_added",function(e){var t=e.key;try{var a=new Date;a.setTime(a.getTime()+2592e6);var o="expires="+a.toGMTString();document.cookie=t+"=1;"+o+";path=/",window.location.replace("http://localhost/luxvilla-web"),window.location.assign("http://localhost/luxvilla-web"),window.location.href="http://localhost/luxvilla-web"}catch(e){alert(e.message)}})}})}}function editprofile(){"use strict";var e=document.getElementById("username").value,t=document.getElementById("nbio").value;firebase.auth().onAuthStateChanged(function(a){if(a){var o=a.uid;firebase.database().ref("/users/"+o).once("value").then(function(a){var s=a.val().user_name,n=a.val().user_bio;e&&t&&(firebase.database().ref("users/"+o).set({user_name:e,user_bio:t}),showsnackbar("Perfil editado.")),e&&""===t&&(firebase.database().ref("users/"+o).set({user_name:e,user_bio:n}),showsnackbar("Perfil editado.")),""===e&&t&&(firebase.database().ref("users/"+o).set({user_name:s,user_bio:t}),showsnackbar("Perfil editado.")),""===e&&""===t&&(window.location.replace("http://localhost/luxvilla-web/profile/"),window.location.assign("http://localhost/luxvilla-web/profile/"),window.location.href="http://localhost/luxvilla-web/profile/")})}else showsnackbar("Para editar precisa de fazer login.")})}function checkusername(){"use strict";var e=document.getElementById("username").value;firebase.database().ref().child("users").orderByChild("user_name").equalTo(e).once("value",function(e){e.val()&&(showsnackbar("Nome de utilizador já existe."),document.getElementById("username").focus())})}function userprofile(){"use strict";var e=document.getElementById("username"),t=document.getElementById("userbio");firebase.auth().onAuthStateChanged(function(a){if(a){var o=a.uid;return firebase.database().ref("/users/"+o).once("value").then(function(a){var o=a.val().user_name,s=a.val().user_bio;e.innerHTML="@"+o,t.innerHTML=s,document.title=o+" - Perfil",$("#preloader").hide(),$("#profilename").show(),$("#preloaderinfo").hide(),$("#conteudo").show()})}$("#preloader").hide(),$("#profilename").show(),$("#preloaderinfo").hide(),$("#conteudo").show()})}function signupuserdata(e,t){"use strict";firebase.database().ref("users/"+e).set({user_name:t,user_bio:"Para adicionar uma bio edite o perfil."})}function showsnackbar(e){"use strict";var t=document.getElementById("snackbar");t.innerHTML=e,t.className="show",setTimeout(function(){t.className=t.className.replace("show","")},3e3)}function usersignedin(){"use strict";$("#signinlink").hide(),$("#signuplink").hide(),$("#profilelink").show(),$("#signoutlink").show()}function usernotsignedin(){"use strict";$("#profilelink").hide(),$("#signoutlink").hide(),$("#signinlink").show(),$("#signuplink").show()}function signup(){"use strict";var e="",t=document.getElementById("username").value,a=document.getElementById("email").value,o=a.indexOf("@"),s=a.lastIndexOf("."),n=document.getElementById("password").value,i=document.getElementById("rppassword").value;return 0===a.length?(e="Por favor introduza um indereço de e-mail.",void showsnackbar(e)):o<1||s<o+2||s+2>=a.length?(e="Por favor introduza um indereço de e-mail válido.",void showsnackbar(e)):n.length<4?(e="Por favor introduza uma palavra-passe.",void showsnackbar(e)):n!==i?(e="Por favor confirme a palavra-passe.",void showsnackbar(e)):void firebase.auth().createUserWithEmailAndPassword(a,n).then(function(e){signupuserdata(e.uid,t),window.location.replace("http://localhost/luxvilla-web"),window.location.assign("http://localhost/luxvilla-web"),window.location.href="http://localhost/luxvilla-web"}).catch(function(e){var t=e.code,a=e.message;"auth/weak-password"===t?(alert("The password is too weak."),console.log(e)):showsnackbar(a)})}function signout(){"use strict";navigator.language||navigator.userLanguage;var e="";firebase.auth().signOut().then(function(){var t=get_cookies_array();for(var a in t)t.hasOwnProperty(a)&&a.includes("heart")&&setCookie(a,0,30);usernotsignedin(),showsnackbar(e="Sessão terminada com sucesso."),window.location.replace("http://localhost/luxvilla-web"),window.location.assign("http://localhost/luxvilla-web"),window.location.href="http://localhost/luxvilla-web"},function(t){showsnackbar(e="Ocorreu um erro enquanto terminava sessão.")})}function initApp(){"use strict";firebase.auth().onAuthStateChanged(function(e){e?usersignedin():usernotsignedin()});var e=document.getElementById("signin"),t=document.getElementById("signup"),a=document.getElementById("edit"),o=document.getElementById("adicionar");null!==e&&e.addEventListener("click",toggleSignIn,!1),null!==t&&t.addEventListener("click",signup,!1),null!==a&&a.addEventListener("click",editprofile,!1),null!==o&&o.addEventListener("click",adicionarcasa,!1)}$(document).ready(function(){"use strict";var e={apiKey:"<YOUR-API-KEY>",authDomain:"<YOUR-AUTHDOMAIN>",databaseURL:"<YOU-DATABASEURL>",projectId:"<YOUR-PROJECTID>",storageBucket:"<YOUR-STORAGEBUCKET>",messagingSenderId:"<YOUR-MESSAGINGSENDERID>"};firebase.initializeApp(e),$(".heart").on("click touchstart",function(){var e=$(this).attr("id"),t=$(this);firebase.auth().onAuthStateChanged(function(a){if(a){var o=a.uid,s=firebase.database();t.hasClass("liked")?(s.ref("users/"+o+"/likes/"+e).remove(),setCookie(e,0,30),t.removeClass("liked")):(s.ref("users/"+o+"/likes/"+e).set({liked:"true"}),t.toggleClass("is_animating"),setCookie(e,1,30),t.addClass("liked"))}else t.hasClass("liked")?(setCookie(e,0,30),t.removeClass("liked")):(t.toggleClass("is_animating"),setCookie(e,1,30),t.addClass("liked"))})}),$(".heart").on("animationend",function(){$(this).toggleClass("is_animating")})}),$(document).ready(function(){"use strict";var e=document.getElementById("menusite"),t=document.getElementById("menusitesobrenos");$(function(){$(window).scroll(function(){$(this).scrollTop()>500?$("#back-top").removeClass("backtop-hidden").addClass("shown"):$("#back-top").removeClass("shown").addClass("backtop-hidden"),$(this).scrollTop()>0?null!==e?e.style.boxShadow="0px 3px 6px rgba(50,50,50,0.28)":null!==t&&(t.style.boxShadow="0px 3px 6px rgba(50,50,50,0.28)"):null!==e?e.style.boxShadow="0px 0px 0px grey":null!==t&&(t.style.boxShadow="0px 0px 0px grey")})}),$("#arrowleft").hover(function(){$("#ileft").addClass("hover")},function(){$("#ileft").removeClass("hover")}),$("#arrowright").hover(function(){$("#iright").addClass("hover")},function(){$("#iright").removeClass("hover")})}),$(document).ready(function(){"use strict";$('a[href^="#"]').on("click",function(e){e.preventDefault(),$(document).off("scroll"),$("a").each(function(){});var t=this.hash,a=$(t);$("html, body").stop().animate({scrollTop:a.offset().top},800,"swing",function(){window.location.hash=t})})});var didScroll,lastScrollTop=0,delta=5,navbarHeight=$("header").outerHeight();$(window).scroll(function(e){"use strict";didScroll=!0}),setInterval(function(){"use strict";didScroll&&(hasScrolled(),didScroll=!1)},250),window.onload=function(){"use strict";initApp()},$(function(){"use strict";var e=$(".swipe-tabs"),t=$(".swipe-tab"),a=$(".swipe-tabs-container"),o=0;e.on("init",function(s,n){a.removeClass("invisible"),e.removeClass("invisible"),o=n.getCurrent(),t.removeClass("active-tab"),$(".swipe-tab[data-slick-index="+o+"]").addClass("active-tab")}),e.slick({slidesToShow:2,slidesToScroll:1,arrows:!1,infinite:!1,swipeToSlide:!0,touchThreshold:10}),a.slick({asNavFor:e,slidesToShow:1,slidesToScroll:1,arrows:!1,infinite:!1,swipeToSlide:!0,draggable:!1,touchThreshold:10}),t.on("click",function(s){o=$(this).data("slick-index"),t.removeClass("active-tab"),$(".swipe-tab[data-slick-index="+o+"]").addClass("active-tab"),e.slick("slickGoTo",o),a.slick("slickGoTo",o)}),a.on("swipe",function(e,a,s){o=$(this).slick("slickCurrentSlide"),t.removeClass("active-tab"),$(".swipe-tab[data-slick-index="+o+"]").addClass("active-tab")})}),$(document).click(function(e){"use strict";if($(e.target).closest("#usersignin").length)document.getElementById("myDropdown").classList.toggle("show");else{var t,a=document.getElementsByClassName("dropdown-content");for(t=0;t<a.length;t++){var o=a[t];o.classList.contains("show")&&o.classList.remove("show")}}}),$(document).ready(function(e){"use strict";!function(){var e,t=document.querySelectorAll(".wave");for(e=0;e<t.length;e++)t[e].onmousedown=function(e){var t,a,o=document.createElement("div");o.className="cercle",this.appendChild(o),t=e.pageX-this.offsetLeft,a=e.pageY-this.offsetTop,o.style.left=t+"px",o.style.top=a+"px",o.className+=" anim",setTimeout(function(){o.remove()},1500)}}()});