$(document).ready(function(){function e(){$(".slider-control").removeClass("inactive"),d||$(".slider-control.left").addClass("inactive"),d===r&&$(".slider-control.right").addClass("inactive")}function a(){n=setTimeout(function(){++d>r&&(d=0),t()},f)}function t(t){t||(u=!0,e(),o.addClass("animating"),o.css("top"),$(".slide").removeClass("active"),$(".slide-"+d).addClass("active"),setTimeout(function(){o.removeClass("animating"),u=!1},m)),window.clearTimeout(n),$(".slider-pagi__elem").removeClass("active"),$(".slider-pagi__elem-"+d).addClass("active"),o.css("transform","translate3d("+100*-d+"%,0,0)"),l.css("transform","translate3d("+50*d+"%,0,0)"),c=0,a()}function s(){u||(d>0&&d--,t())}function i(){u||(d<r&&d++,t())}var n,o=$(".slider"),l=$(".slide__bg"),c=0,d=0,r=$(".slide").length-1,u=!1,m=500,f=6e3,v=$(".slider-pagi");!function(){for(var e=0;e<r+1;e++){var a=$("<li class='slider-pagi__elem'></li>");a.addClass("slider-pagi__elem-"+e).data("page",e),e||a.addClass("active"),v.append(a)}}(),a(),$(document).on("mousedown touchstart",".slider",function(e){if(!u){window.clearTimeout(n);var a=e.pageX||e.originalEvent.touches[0].pageX,t=$(window).width();c=0,$(document).on("mousemove touchmove",function(e){var s=e.pageX||e.originalEvent.touches[0].pageX;c=(a-s)/t*70,(!d&&c<0||d===r&&c>0)&&(c/=2),o.css("transform","translate3d("+(100*-d-c)+"%,0,0)"),l.css("transform","translate3d("+(50*d+c/2)+"%,0,0)")})}}),$(document).on("mouseup touchend",function(e){$(document).off("mousemove touchmove"),u||(c?c>-8&&c<8?t():(c<=-8&&s(),c>=8&&i()):t(!0))}),$(document).on("click",".slider-control",function(){$(this).hasClass("left")?s():i()}),$(document).on("click",".slider-pagi__elem",function(){d=$(this).data("page"),t()})});